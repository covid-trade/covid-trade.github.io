define(["./Transforms-d5dbea8d","./Cartesian2-b4b7b0b3","./Check-5e798bbf","./when-208fe5b0","./Math-8386669c","./ArcType-dc1c5aee","./arrayRemoveDuplicates-3a9a9480","./ComponentDatatype-ce69354e","./EllipsoidGeodesic-92f0d3cc","./EllipsoidRhumbLine-73a4e3eb","./EncodedCartesian3-21af0f3b","./GeometryAttribute-3314089a","./IntersectionTests-eb44dd99","./Plane-06d5a63d","./WebMercatorProjection-1b058022","./RuntimeError-7f634f5d","./WebGLConstants-76bb35d1"],(function(e,a,t,n,i,r,s,o,l,u,c,C,p,d,h,g,m){"use strict";function f(t){t=n.defaultValue(t,n.defaultValue.EMPTY_OBJECT),this._ellipsoid=n.defaultValue(t.ellipsoid,a.Ellipsoid.WGS84),this._rectangle=n.defaultValue(t.rectangle,a.Rectangle.MAX_VALUE),this._projection=new e.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=n.defaultValue(t.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=n.defaultValue(t.numberOfLevelZeroTilesY,1)}Object.defineProperties(f.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),f.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},f.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},f.prototype.rectangleToNativeRectangle=function(e,t){var r=i.CesiumMath.toDegrees(e.west),s=i.CesiumMath.toDegrees(e.south),o=i.CesiumMath.toDegrees(e.east);e=i.CesiumMath.toDegrees(e.north);return n.defined(t)?(t.west=r,t.south=s,t.east=o,t.north=e,t):new a.Rectangle(r,s,o,e)},f.prototype.tileXYToNativeRectangle=function(e,a,t,n){return n=this.tileXYToRectangle(e,a,t,n),n.west=i.CesiumMath.toDegrees(n.west),n.south=i.CesiumMath.toDegrees(n.south),n.east=i.CesiumMath.toDegrees(n.east),n.north=i.CesiumMath.toDegrees(n.north),n},f.prototype.tileXYToRectangle=function(e,t,i,r){var s=this._rectangle,o=this.getNumberOfXTilesAtLevel(i),l=this.getNumberOfYTilesAtLevel(i);i=s.width/o,o=e*i+s.west,e=(e+1)*i+s.west,i=s.height/l,l=s.north-t*i,i=s.north-(t+1)*i;return(r=n.defined(r)?r:new a.Rectangle(o,i,e,l)).west=o,r.south=i,r.east=e,r.north=l,r},f.prototype.positionToTileXY=function(e,t,r){var s=this._rectangle;if(a.Rectangle.contains(s,e)){var o=this.getNumberOfXTilesAtLevel(t),l=this.getNumberOfYTilesAtLevel(t),u=s.width/o,c=s.height/l;t=e.longitude;return s.east<s.west&&(t+=i.CesiumMath.TWO_PI),u=(t-s.west)/u|0,o<=u&&(u=o-1),c=(s.north-e.latitude)/c|0,l<=c&&(c=l-1),n.defined(r)?(r.x=u,r.y=c,r):new a.Cartesian2(u,c)}};var w=new a.Cartesian3,y=new a.Cartesian3,v=new a.Cartographic,M=new a.Cartesian3,T=new a.Cartesian3,E=new e.BoundingSphere,_=new f,b=[new a.Cartographic,new a.Cartographic,new a.Cartographic,new a.Cartographic],O=new a.Cartesian2,P={};function k(e){a.Cartographic.fromRadians(e.east,e.north,0,b[0]),a.Cartographic.fromRadians(e.west,e.north,0,b[1]),a.Cartographic.fromRadians(e.east,e.south,0,b[2]),a.Cartographic.fromRadians(e.west,e.south,0,b[3]);for(var t=0,n=0,i=0,r=0,s=P._terrainHeightsMaxLevel,o=0;o<=s;++o){for(var l=!1,u=0;u<4;++u)if(_.positionToTileXY(b[u],o,O),0===u)i=O.x,r=O.y;else if(i!==O.x||r!==O.y){l=!0;break}if(l)break;t=i,n=r}if(0!==o)return{x:t,y:n,level:s<o?s:o-1}}P.initialize=function(){var a=P._initPromise;return n.defined(a)?a:(a=e.Resource.fetchJson(e.buildModuleUrl("Assets/approximateTerrainHeights.json")).then((function(e){P._terrainHeights=e})),P._initPromise=a)},P.getMinimumMaximumHeights=function(e,t){t=n.defaultValue(t,a.Ellipsoid.WGS84);var i=k(e),r=P._defaultMinTerrainHeight,s=P._defaultMaxTerrainHeight;return n.defined(i)&&(i=i.level+"-"+i.x+"-"+i.y,i=P._terrainHeights[i],n.defined(i)&&(r=i[0],s=i[1]),t.cartographicToCartesian(a.Rectangle.northeast(e,v),w),t.cartographicToCartesian(a.Rectangle.southwest(e,v),y),a.Cartesian3.midpoint(y,w,M),t=t.scaleToGeodeticSurface(M,T),r=n.defined(t)?(t=a.Cartesian3.distance(M,t),Math.min(r,-t)):P._defaultMinTerrainHeight),{minimumTerrainHeight:r=Math.max(P._defaultMinTerrainHeight,r),maximumTerrainHeight:s}},P.getBoundingSphere=function(t,i){i=n.defaultValue(i,a.Ellipsoid.WGS84);var r=k(t),s=P._defaultMaxTerrainHeight;n.defined(r)&&(o=r.level+"-"+r.x+"-"+r.y,o=P._terrainHeights[o],n.defined(o)&&(s=o[1]));var o=e.BoundingSphere.fromRectangle3D(t,i,0);return e.BoundingSphere.fromRectangle3D(t,i,s,E),e.BoundingSphere.union(o,E,o)},P._terrainHeightsMaxLevel=6,P._defaultMaxTerrainHeight=9e3,P._defaultMinTerrainHeight=-1e5,P._terrainHeights=void 0,P._initPromise=void 0,Object.defineProperties(P,{initialized:{get:function(){return n.defined(P._terrainHeights)}}});var A=[e.GeographicProjection,h.WebMercatorProjection],L=A.length,S=Math.cos(i.CesiumMath.toRadians(30)),I=Math.cos(i.CesiumMath.toRadians(150)),x=0,N=1e3;function R(e){var t=(e=n.defaultValue(e,n.defaultValue.EMPTY_OBJECT)).positions;this.width=n.defaultValue(e.width,1),this._positions=t,this.granularity=n.defaultValue(e.granularity,9999),this.loop=n.defaultValue(e.loop,!1),this.arcType=n.defaultValue(e.arcType,r.ArcType.GEODESIC),this._ellipsoid=a.Ellipsoid.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(R.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+a.Ellipsoid.packedLength+1+1}}}),R.setProjectionAndEllipsoid=function(e,a){for(var t=0,n=0;n<L;n++)if(a instanceof A[n]){t=n;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var D=new a.Cartesian3,z=new a.Cartesian3,H=new a.Cartesian3;function B(e,t,n,i,r){var s=X(i,e,0,D);n=X(i,e,n,z),t=X(i,t,0,H),n=W(n,s,z),s=W(t,s,H);return a.Cartesian3.cross(s,n,r),a.Cartesian3.normalize(r,r)}var j=new a.Cartographic,G=new a.Cartesian3,V=new a.Cartesian3,Y=new a.Cartesian3;function F(e,t,n,i,s,o,c,C,p,d,h){var g;if(0!==s&&(o===r.ArcType.GEODESIC?g=new l.EllipsoidGeodesic(e,t,c):o===r.ArcType.RHUMB&&(g=new u.EllipsoidRhumbLine(e,t,c)),o=g.surfaceDistance,!(o<s)))for(var m=B(e,t,i,c,Y),f=(s=Math.ceil(o/s),o/s),w=f,y=s-1,v=C.length,M=0;M<y;M++){var T=g.interpolateUsingSurfaceDistance(w,j),E=X(c,T,n,G),_=X(c,T,i,V);a.Cartesian3.pack(m,C,v),a.Cartesian3.pack(E,p,v),a.Cartesian3.pack(_,d,v),h.push(T.latitude),h.push(T.longitude),v+=3,w+=f}}var q=new a.Cartographic;function X(e,t,n,i){return a.Cartographic.clone(t,q),q.height=n,a.Cartographic.toCartesian(q,e,i)}function W(e,t,n){return a.Cartesian3.subtract(e,t,n),a.Cartesian3.normalize(n,n),n}function U(e,t,n,i){return i=W(e,t,i),i=a.Cartesian3.cross(i,n,i),i=a.Cartesian3.normalize(i,i),a.Cartesian3.cross(n,i,i)}R.pack=function(e,t,i){var r=n.defaultValue(i,0),s=e._positions,o=s.length;t[r++]=o;for(var l=0;l<o;++l){var u=s[l];a.Cartesian3.pack(u,t,r),r+=3}return t[r++]=e.granularity,t[r++]=e.loop?1:0,t[r++]=e.arcType,a.Ellipsoid.pack(e._ellipsoid,t,r),r+=a.Ellipsoid.packedLength,t[r++]=e._projectionIndex,t[r++]=e._scene3DOnly?1:0,t},R.unpack=function(e,t,i){for(var r=n.defaultValue(t,0),s=e[r++],o=new Array(s),l=0;l<s;l++)o[l]=a.Cartesian3.unpack(e,r),r+=3;var u=e[r++],c=1===e[r++],C=e[r++],p=a.Ellipsoid.unpack(e,r);r+=a.Ellipsoid.packedLength;var d=e[r++];t=1===e[r++];return(i=n.defined(i)?i:new R({positions:o}))._positions=o,i.granularity=u,i.loop=c,i.arcType=C,i._ellipsoid=p,i._projectionIndex=d,i._scene3DOnly=t,i};var Z=new a.Cartesian3,J=new a.Cartesian3,Q=new a.Cartesian3,K=new a.Cartesian3;function $(e,t,n,r,s){return n=W(n,t,K),e=U(e,t,n,Z),t=U(r,t,n,J),i.CesiumMath.equalsEpsilon(a.Cartesian3.dot(e,t),-1,i.CesiumMath.EPSILON5)?(s=a.Cartesian3.cross(n,e,s),a.Cartesian3.normalize(s,s)):(s=a.Cartesian3.add(t,e,s),s=a.Cartesian3.normalize(s,s),n=a.Cartesian3.cross(n,s,Q),a.Cartesian3.dot(t,n)<0?a.Cartesian3.negate(s,s):s)}var ee=d.Plane.fromPointNormal(a.Cartesian3.ZERO,a.Cartesian3.UNIT_Y),ae=new a.Cartesian3,te=new a.Cartesian3,ne=new a.Cartesian3,ie=new a.Cartesian3,re=new a.Cartesian3,se=new a.Cartesian3,oe=new a.Cartographic,le=new a.Cartographic,ue=new a.Cartographic;R.createGeometry=function(t){var l,d,h,g,m,f=!t._scene3DOnly,w=t.loop,y=t._ellipsoid,v=t.granularity,M=t.arcType,T=new A[t._projectionIndex](y),E=x,_=N,b=t._positions,O=b.length;2===O&&(w=!1);for(var k,L,I,R=new u.EllipsoidRhumbLine(void 0,void 0,y),D=[b[0]],z=0;z<O-1;z++)d=b[z],h=b[z+1],k=p.IntersectionTests.lineSegmentPlane(d,h,ee,se),!n.defined(k)||a.Cartesian3.equalsEpsilon(k,d,i.CesiumMath.EPSILON7)||a.Cartesian3.equalsEpsilon(k,h,i.CesiumMath.EPSILON7)||(t.arcType===r.ArcType.GEODESIC?D.push(a.Cartesian3.clone(k)):t.arcType===r.ArcType.RHUMB&&(I=y.cartesianToCartographic(k,oe).longitude,g=y.cartesianToCartographic(d,oe),m=y.cartesianToCartographic(h,le),R.setEndPoints(g,m),L=R.findIntersectionWithLongitude(I,ue),k=y.cartographicToCartesian(L,se),!n.defined(k)||a.Cartesian3.equalsEpsilon(k,d,i.CesiumMath.EPSILON7)||a.Cartesian3.equalsEpsilon(k,h,i.CesiumMath.EPSILON7)||D.push(a.Cartesian3.clone(k)))),D.push(h);w&&(d=b[O-1],h=b[0],k=p.IntersectionTests.lineSegmentPlane(d,h,ee,se),!n.defined(k)||a.Cartesian3.equalsEpsilon(k,d,i.CesiumMath.EPSILON7)||a.Cartesian3.equalsEpsilon(k,h,i.CesiumMath.EPSILON7)||(t.arcType===r.ArcType.GEODESIC?D.push(a.Cartesian3.clone(k)):t.arcType===r.ArcType.RHUMB&&(I=y.cartesianToCartographic(k,oe).longitude,g=y.cartesianToCartographic(d,oe),m=y.cartesianToCartographic(h,le),R.setEndPoints(g,m),L=R.findIntersectionWithLongitude(I,ue),k=y.cartographicToCartesian(L,se),!n.defined(k)||a.Cartesian3.equalsEpsilon(k,d,i.CesiumMath.EPSILON7)||a.Cartesian3.equalsEpsilon(k,h,i.CesiumMath.EPSILON7)||D.push(a.Cartesian3.clone(k)))));var H=D.length,j=new Array(H);for(z=0;z<H;z++){var G=a.Cartographic.fromCartesian(D[z],y);G.height=0,j[z]=G}if(!((H=(j=s.arrayRemoveDuplicates(j,a.Cartographic.equalsEpsilon)).length)<2)){var V=[],Y=[],q=[],U=[],Z=te,J=ne,Q=ie,K=re,ce=j[0],Ce=j[1];for(pe=X(y,j[H-1],E,pe=ae),Q=X(y,Ce,E,Q),Z=X(y,ce,E,Z),J=X(y,ce,_,J),K=w?$(pe,Z,J,Q,K):B(ce,Ce,_,y,K),a.Cartesian3.pack(K,Y,0),a.Cartesian3.pack(Z,q,0),a.Cartesian3.pack(J,U,0),V.push(ce.latitude),V.push(ce.longitude),F(ce,Ce,E,_,v,M,y,Y,q,U,V),z=1;z<H-1;++z){var pe=a.Cartesian3.clone(Z,pe),he=(Z=a.Cartesian3.clone(Q,Z),j[z]);X(y,he,_,J),X(y,j[z+1],E,Q),$(pe,Z,J,Q,K),l=Y.length,a.Cartesian3.pack(K,Y,l),a.Cartesian3.pack(Z,q,l),a.Cartesian3.pack(J,U,l),V.push(he.latitude),V.push(he.longitude),F(j[z],j[z+1],E,_,v,M,y,Y,q,U,V)}var ge=j[H-1],me=j[H-2];if(Z=X(y,ge,E,Z),J=X(y,ge,_,J),K=w?(Ce=j[0],$(pe=X(y,me,E,pe),Z,J,Q=X(y,Ce,E,Q),K)):B(me,ge,_,y,K),l=Y.length,a.Cartesian3.pack(K,Y,l),a.Cartesian3.pack(Z,q,l),a.Cartesian3.pack(J,U,l),V.push(ge.latitude),V.push(ge.longitude),w){for(F(ge,ce,E,_,v,M,y,Y,q,U,V),l=Y.length,z=0;z<3;++z)Y[l+z]=Y[z],q[l+z]=q[z],U[l+z]=U[z];V.push(ce.latitude),V.push(ce.longitude)}return function(t,n,r,s,l,u,p){var d,h,g,m,f,w,y=n._ellipsoid,v=r.length/3-1,M=8*v,T=4*M,E=36*v,_=new(65535<M?Uint32Array:Uint16Array)(E),b=new Float64Array(3*M),O=new Float32Array(T),k=new Float32Array(T),A=new Float32Array(T),L=new Float32Array(T),I=new Float32Array(T);p&&(g=new Float32Array(T),m=new Float32Array(T),f=new Float32Array(T),w=new Float32Array(2*M));var x=u.length/2,N=0,R=Ee;R.height=0;var D=_e;D.height=0;var z=be,H=Oe;if(p)for(h=0,d=1;d<x;d++)R.latitude=u[h],R.longitude=u[h+1],D.latitude=u[h+2],D.longitude=u[h+3],z=n.project(R,z),H=n.project(D,H),N+=a.Cartesian3.distance(z,H),h+=2;var B=s.length/3;H=a.Cartesian3.unpack(s,0,H);var j,G=0;for(h=3,d=1;d<B;d++)z=a.Cartesian3.clone(H,z),H=a.Cartesian3.unpack(s,h,H),G+=a.Cartesian3.distance(z,H),h+=3;h=3;var V=0,Y=0,F=0,q=0,X=!1,U=a.Cartesian3.unpack(r,0,ke),Z=a.Cartesian3.unpack(s,0,Oe),J=a.Cartesian3.unpack(l,0,Le);t&&(ma=a.Cartesian3.unpack(r,r.length-6,Pe),de(J,ma,U,Z)&&(J=a.Cartesian3.negate(J,J)));var Q,K,$,ee,ae,te,ne,ie=0,re=0,se=0;for(d=0;d<v;d++){var oe=a.Cartesian3.clone(U,Pe),le=a.Cartesian3.clone(Z,be),ue=a.Cartesian3.clone(J,Ae);X&&(ue=a.Cartesian3.negate(ue,ue)),U=a.Cartesian3.unpack(r,h,ke),Z=a.Cartesian3.unpack(s,h,Oe),J=a.Cartesian3.unpack(l,h,Le),X=de(J,oe,U,Z),R.latitude=u[V],R.longitude=u[V+1],D.latitude=u[V+2],D.longitude=u[V+3],p&&(da=function(e,a){var t=Math.abs(e.longitude),n=Math.abs(a.longitude);if(i.CesiumMath.equalsEpsilon(t,i.CesiumMath.PI,i.CesiumMath.EPSILON11)){var r=i.CesiumMath.sign(a.longitude);return e.longitude=r*(t-i.CesiumMath.EPSILON11),1}return i.CesiumMath.equalsEpsilon(n,i.CesiumMath.PI,i.CesiumMath.EPSILON11)?(e=i.CesiumMath.sign(e.longitude),a.longitude=e*(n-i.CesiumMath.EPSILON11),2):0}(R,D),Q=n.project(R,ze),(ia=W(K=n.project(D,He),Q,Ze)).y=Math.abs(ia.y),$=Be,ee=je,0===da||a.Cartesian3.dot(ia,a.Cartesian3.UNIT_Y)>S?($=fe(n,R,ue,Q,Be),ee=fe(n,D,J,K,je)):1===da?(ee=fe(n,D,J,K,je),$.x=0,$.y=i.CesiumMath.sign(R.longitude-Math.abs(D.longitude)),$.z=0):($=fe(n,R,ue,Q,Be),ee.x=0,ee.y=i.CesiumMath.sign(R.longitude-D.longitude),ee.z=0));var ce=a.Cartesian3.distance(le,Z),Ce=c.EncodedCartesian3.fromCartesian(oe,We),pe=a.Cartesian3.subtract(U,oe,Ge),he=a.Cartesian3.normalize(pe,Fe),ge=a.Cartesian3.subtract(le,oe,Ve);ge=a.Cartesian3.normalize(ge,ge);var me=a.Cartesian3.cross(he,ge,Fe);me=a.Cartesian3.normalize(me,me);var we=a.Cartesian3.cross(ge,ue,qe);we=a.Cartesian3.normalize(we,we);var ye=a.Cartesian3.subtract(Z,U,Ye);ye=a.Cartesian3.normalize(ye,ye);var Me=a.Cartesian3.cross(J,ye,Xe);Me=a.Cartesian3.normalize(Me,Me);var ta=ce/G,na=ie/G,ia=0,ra=0,sa=0;for(p&&(ia=a.Cartesian3.distance(Q,K),ae=c.EncodedCartesian3.fromCartesian(Q,Ue),te=a.Cartesian3.subtract(K,Q,Ze),ha=(ne=a.Cartesian3.normalize(te,Je)).x,ne.x=ne.y,ne.y=-ha,ra=ia/N,sa=re/N),j=0;j<8;j++){var oa=q+4*j,la=Y+2*j,ua=oa+3,ca=j<4?1:-1,Ca=2===j||3===j||6===j||7===j?1:-1;a.Cartesian3.pack(Ce.high,O,oa),O[ua]=pe.x,a.Cartesian3.pack(Ce.low,k,oa),k[ua]=pe.y,a.Cartesian3.pack(we,A,oa),A[ua]=pe.z,a.Cartesian3.pack(Me,L,oa),L[ua]=ta*ca,a.Cartesian3.pack(me,I,oa);var pa=na*Ca;0===pa&&Ca<0&&(pa=9),I[ua]=pa,p&&(g[oa]=ae.high.x,g[oa+1]=ae.high.y,g[oa+2]=ae.low.x,g[oa+3]=ae.low.y,f[oa]=-$.y,f[oa+1]=$.x,f[oa+2]=ee.y,f[oa+3]=-ee.x,m[oa]=te.x,m[oa+1]=te.y,m[oa+2]=ne.x,m[oa+3]=ne.y,w[la]=ra*ca,0===(pa=sa*Ca)&&Ca<0&&(pa=9),w[la+1]=pa)}var da=Re,ha=(he=De,ge=xe,ue=Ne,ye=a.Rectangle.fromCartographicArray(Se,Ie),P.getMinimumMaximumHeights(ye,y));ye=ha.minimumTerrainHeight,ha=ha.maximumTerrainHeight;se+=ye,se+=ha,ve(oe,le,ye,ha,da,ge),ve(U,Z,ye,ha,he,ue),ha=a.Cartesian3.multiplyByScalar(me,i.CesiumMath.EPSILON5,Qe),a.Cartesian3.add(da,ha,da),a.Cartesian3.add(he,ha,he),a.Cartesian3.add(ge,ha,ge),a.Cartesian3.add(ue,ha,ue),Te(da,he),Te(ge,ue),a.Cartesian3.pack(da,b,F),a.Cartesian3.pack(he,b,F+3),a.Cartesian3.pack(ue,b,F+6),a.Cartesian3.pack(ge,b,F+9),ha=a.Cartesian3.multiplyByScalar(me,-2*i.CesiumMath.EPSILON5,Qe),a.Cartesian3.add(da,ha,da),a.Cartesian3.add(he,ha,he),a.Cartesian3.add(ge,ha,ge),a.Cartesian3.add(ue,ha,ue),Te(da,he),Te(ge,ue),a.Cartesian3.pack(da,b,F+12),a.Cartesian3.pack(he,b,F+15),a.Cartesian3.pack(ue,b,F+18),a.Cartesian3.pack(ge,b,F+21),V+=2,h+=3,Y+=16,F+=24,q+=32,ie+=ce,re+=ia}var ga=h=0;for(d=0;d<v;d++){for(j=0;j<ea;j++)_[h+j]=$e[j]+ga;ga+=8,h+=ea}t=Ke,e.BoundingSphere.fromVertices(r,a.Cartesian3.ZERO,3,t[0]),e.BoundingSphere.fromVertices(s,a.Cartesian3.ZERO,3,t[1]);var ma=e.BoundingSphere.fromBoundingSpheres(t);return ma.radius+=se/(2*v),t={position:new C.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:b}),startHiAndForwardOffsetX:aa(O),startLoAndForwardOffsetY:aa(k),startNormalAndForwardOffsetZ:aa(A),endNormalAndTextureCoordinateNormalizationX:aa(L),rightNormalAndTextureCoordinateNormalizationY:aa(I)},p&&(t.startHiLo2D=aa(g),t.offsetAndRight2D=aa(m),t.startEndNormals2D=aa(f),t.texcoordNormalization2D=new C.GeometryAttribute({componentDatatype:o.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:w})),new C.Geometry({attributes:t,indices:_,boundingSphere:ma})}(w,T,q,U,Y,V,f)}};var ce=new a.Cartesian3,Ce=new e.Matrix3,pe=new e.Quaternion;function de(t,n,r,s){return n=W(r,n,ce),n=a.Cartesian3.dot(n,t),(S<n||n<I)&&(r=W(s,r,K),n=n<I?i.CesiumMath.PI_OVER_TWO:-i.CesiumMath.PI_OVER_TWO,n=e.Quaternion.fromAxisAngle(r,n,pe),n=e.Matrix3.fromQuaternion(n,Ce),e.Matrix3.multiplyByVector(n,t,t),!0)}var he=new a.Cartographic,ge=new a.Cartesian3,me=new a.Cartesian3;function fe(e,t,n,r,s){var o=a.Cartographic.toCartesian(t,e._ellipsoid,ge),l=a.Cartesian3.add(o,n,me),u=!1,c=e._ellipsoid,C=c.cartesianToCartographic(l,he);return Math.abs(t.longitude-C.longitude)>i.CesiumMath.PI_OVER_TWO&&(u=!0,l=a.Cartesian3.subtract(o,n,me),C=c.cartesianToCartographic(l,he)),C.height=0,C=e.project(C,s),(s=a.Cartesian3.subtract(C,r,s)).z=0,s=a.Cartesian3.normalize(s,s),u&&a.Cartesian3.negate(s,s),s}var we=new a.Cartesian3,ye=new a.Cartesian3;function ve(e,t,n,i,r,s){var o=a.Cartesian3.subtract(t,e,we);a.Cartesian3.normalize(o,o),n=a.Cartesian3.multiplyByScalar(o,n-x,ye),a.Cartesian3.add(e,n,r),n=a.Cartesian3.multiplyByScalar(o,i-N,ye),a.Cartesian3.add(t,n,s)}var Me=new a.Cartesian3;function Te(e,t){var n=d.Plane.getPointDistance(ee,e),r=d.Plane.getPointDistance(ee,t),s=Me;i.CesiumMath.equalsEpsilon(n,0,i.CesiumMath.EPSILON2)?(s=W(t,e,s),a.Cartesian3.multiplyByScalar(s,i.CesiumMath.EPSILON2,s),a.Cartesian3.add(e,s,e)):i.CesiumMath.equalsEpsilon(r,0,i.CesiumMath.EPSILON2)&&(s=W(e,t,s),a.Cartesian3.multiplyByScalar(s,i.CesiumMath.EPSILON2,s),a.Cartesian3.add(t,s,t))}var Ee=new a.Cartographic,_e=new a.Cartographic,be=new a.Cartesian3,Oe=new a.Cartesian3,Pe=new a.Cartesian3,ke=new a.Cartesian3,Ae=new a.Cartesian3,Le=new a.Cartesian3,Se=[Ee,_e],Ie=new a.Rectangle,xe=new a.Cartesian3,Ne=new a.Cartesian3,Re=new a.Cartesian3,De=new a.Cartesian3,ze=new a.Cartesian3,He=new a.Cartesian3,Be=new a.Cartesian3,je=new a.Cartesian3,Ge=new a.Cartesian3,Ve=new a.Cartesian3,Ye=new a.Cartesian3,Fe=new a.Cartesian3,qe=new a.Cartesian3,Xe=new a.Cartesian3,We=new c.EncodedCartesian3,Ue=new c.EncodedCartesian3,Ze=new a.Cartesian3,Je=new a.Cartesian3,Qe=new a.Cartesian3,Ke=[new e.BoundingSphere,new e.BoundingSphere],$e=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],ea=$e.length;function aa(e){return new C.GeometryAttribute({componentDatatype:o.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return R._projectNormal=fe,function(e,a){return P.initialize().then((function(){return n.defined(a)&&(e=R.unpack(e,a)),R.createGeometry(e)}))}}));